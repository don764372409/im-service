syntax = "proto3";
option java_multiple_files = true;
option java_package = "com.master.world.bean";
option java_outer_classname = "BtcAddressProto";
option go_package = "service/v1;api";
option objc_class_prefix = "World";

enum ResultDTOCode {
  DEFAULT = 0;
  SUCCESS = 200;
  ERROR = 500;
  /** 跳转2级密码输入页 */
  TO_INPUT_PWD2 = 2000;
}
message MsgPageDTO{
  string type = 1;//聊天类型 friend、group
  uint64 target = 2;//聊天目标 用户ID或群ID
  int32 page = 3;//分页页码
  uint64 time = 4;//消息发送时间 查询此时间之前的消息
}
/** 首页聊天列表回调 */
message ChatData{
  uint64 Id = 1;
  string Type = 2;
  uint64 TargetId = 3;
  uint64 UserId = 4;
  string Name = 5;
  string HeadImg = 6;
  uint32 UnReadNo = 7;
  string LastMsg = 8;
  uint64 LastTime = 9;
  uint32 Page = 10;
  uint32 TotalPage = 11;
  repeated MessageData Msgs = 12;
}
/** 当前聊天收到消息回调 */
message MessageData{
  string No = 1;//消息唯一编号
  string Type = 2;//聊天类型 friend、group
  uint64 TargetId = 3; //聊天目标 用户ID或群ID
  uint64 UserId = 4;//当前聊天所有者
  string From = 5;//消息发送者
  string Data = 6;//消息内容 MessageData的json字符串
  uint64 Time = 7;//消息发送时间
  int32 Read = 8;//是否已阅读 1-未读 2-已读
  int32 Send = 9;//发送状态 1-发送中 2-发送成功 -1-发送失败
  string Ext1 = 10;
  string Ext2 = 11;
  string Ext3 = 12;
  string Ext4 = 13;//发送状态 1-发送中 2-发送成功 -1-发送失败
  string Ext5 = 14;//是否已阅读 1-未读 2-已读
}
/** 客户端发送消息状态回调 */
message SendResp{
  string no = 1;//消息ID
  int32 send = 2;//发送状态 1-发送中 2-发送成功 -1-发送失败
}
message ChatReq{
  string type = 1; // 聊天类型 friend, group
  uint64 target = 2; // 聊天目标 用户ID或群ID
  string no = 3;//消息ID 客户端通过UUID生成 发送成功失败时根据此ID获取消息客户端并修改状态
  string content = 4; // 聊天内容 仅发生消息时传
}
/** 好友详情页根据ID获取好友数据 */
message FriendReq{
  uint64 id = 1; //好友ID
  string name = 2; //好友备注 查询/删除时留空，修改好友备注时传入
}
/** 搜索用户、群聊得到的请求参数 */
message SearchReq{
  string keyword = 1; // 搜索关键字
}
/** 好友请求参数 */
message FriendApplyReq{
  uint64 id = 1;//添加好友时是用户ID 同意或拒绝好友时是新朋友记录ID
  string remark = 2;//备注 同意或拒绝时留空
  int32 state = 3;//-1拒绝 2同意 操作时传，添加时留空
}
/** 修改用户信息的请求参数 */
message UpdateUserReq{
  uint64 id = 1;//用户ID
  string data = 2;//可以是昵称、签名、邮箱、头像
}
message UploadReq{
  string path = 1; // 文件路径 包含路径和文件名 列如 C:\\Users\\Administrator\\Desktop\\result.png
}
/** 注册 */
message UserReq{
  string  username = 1;
  string  password = 2;
}

message ConfigReq {
  string baseDir = 1; //配置根目录
  DeviceType deviceType = 2; //设备类型
  LogSwitch logSwitch = 3; //日志开关
  string ApiHost = 4;
  string WsHost = 5;
  enum LogSwitch{
    LogSwitchUNKNOWN = 0;
    CLOSE = 2;        //关闭日志
    CONSOLE = 3;      //控制台日志
    FILE = 4;         //文件日志
    CONSOLE_FILE = 5; //控制台+文件
  }

  enum DeviceType {
    Unknown = 0;
    PC = 1;     // 电脑端
    Android = 2; // 手机端
    IOS = 3;    // IOS
    H5 = 4;     // H5
  }
}
message ResultDTOResp{
  uint32 code = 1;
  string msg = 2;
  string body = 3;
}