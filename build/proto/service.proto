syntax = "proto3";
option java_multiple_files = true;
option java_package = "com.master.world.bean";
option java_outer_classname = "BtcAddressProto";
option go_package = "service/v1;api";
option objc_class_prefix = "World";

enum ResultDTOCode {
  DEFAULT = 0;
  SUCCESS = 200;
  ERROR = 500;
  /** 跳转2级密码输入页 */
  TO_INPUT_PWD2 = 2000;
}
message MsgPageDTO{
  string type = 1;//聊天类型 friend、group
  uint64 target = 2;//聊天目标 用户ID或群ID
  uint64 time = 4;//消息发送时间 查询此时间之前的消息
}

/** 客户端发送消息状态回调 */
message SendResp{
  string no = 1;//消息ID
  int32 send = 2;//发送状态 1-发送中 2-发送成功 -1-发送失败
}
message ChatReq{
  string type = 1; // 聊天类型 friend, group
  uint64 target = 2; // 聊天目标 用户ID或群ID
  string no = 3;//消息ID 客户端通过UUID生成 发送成功失败时根据此ID获取消息客户端并修改状态
  string content = 4; // 聊天内容 仅发生消息时传
}
/** 好友详情页根据ID获取好友数据 */
message FriendReq{
  uint64 id = 1; //好友ID
  string name = 2; //好友备注 查询/删除时留空，修改好友备注时传入
}
/** 搜索用户、群聊得到的请求参数 */
message SearchReq{
  string keyword = 1; // 搜索关键字
}
/** 好友请求参数 */
message FriendApplyReq{
  uint64 id = 1;//添加好友时是用户ID 同意或拒绝好友时是新朋友记录ID
  string remark = 2;//备注 同意或拒绝时留空
  int32 state = 3;//1-申请中 -1拒绝 2同意 操作时传，添加时留空
}
/** 修改用户信息的请求参数 */
message UpdateUserReq{
  uint64 id = 1;//用户ID
  string data = 2;//可以是昵称、签名、邮箱、头像
}
message UploadReq{
  string path = 1; // 文件路径 包含路径和文件名 列如 C:\\Users\\Administrator\\Desktop\\result.png
  bytes data = 2; // 文件二进制数据
}
/** 注册 */
message UserReq{
  uint64 id = 1;
  string  username = 2;
  string  password = 3;
}

message ConfigReq {
  string baseDir = 1; //配置根目录
  DeviceType deviceType = 2; //设备类型
  LogSwitch logSwitch = 3; //日志开关
  string ApiHost = 4;
  string WsHost = 5;
  enum LogSwitch{
    LogSwitchUNKNOWN = 0;
    CLOSE = 2;        //关闭日志
    CONSOLE = 3;      //控制台日志
    FILE = 4;         //文件日志
    CONSOLE_FILE = 5; //控制台+文件
  }

  enum DeviceType {
    Unknown = 0;
    PC = 1;     // 电脑端
    Android = 2; // 手机端
    IOS = 3;    // IOS
    H5 = 4;     // H5
  }
}
message ResultDTOResp{
  uint32 code = 1;
  string msg = 2;
  string body = 3;
}